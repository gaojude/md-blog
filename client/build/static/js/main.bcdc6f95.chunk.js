(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,t,n){e.exports=n(233)},128:function(e,t,n){},209:function(e,t,n){},216:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(13),o=n.n(c),s=n(113),l=n(36),i=n(37);function u(){var e=Object(l.a)(["\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  border: 3px solid rgba(195, 195, 195, 0.6);\n  border-radius: 50%;\n  border-top-color: #636767;\n  animation: spin 1s ease-in-out infinite;\n  @keyframes spin {\n    to {\n          transform: rotate(360deg);\n    }\n  }\n"]);return u=function(){return e},e}function p(){var e=Object(l.a)(["\n  height: 60vh;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return p=function(){return e},e}var E=i.a.div(p()),m=i.a.div(u()),d=function(e){return function(t){var n=t.isLoading,a=Object(s.a)(t,["isLoading"]);return n?r.a.createElement(E,null,r.a.createElement(m,null)):r.a.createElement(e,a)}},T=n(22),f=n(26),S=n(16),b=n(25),O=n(54),_=n(40);function v(e){return Object(_.last)(Object(O.a)(e.matchAll(/^(\[[^\]\[]+]\s*)*(.*)/g))[0])}function y(e){var t=e.match(/^(\[[^\]\[]+]\s*)*/g);if(0===t.length)return[];var n=t[0],a=Object(O.a)(n.matchAll(/\[([^\[\]]*)]/g));return Object(_.compact)(a.map((function(e){return e[1]})))}var h=n(69),A=n(263),P=n(264),C=n(265),j=n(266);function g(){var e=Object(l.a)(["\n  flex-grow: 1;\n"]);return g=function(){return e},e}var x=["pin","hidden"];function L(e){return x.includes(Object(_.lowerCase)(e))?null:r.a.createElement("span",{className:"badge badge-light"},e)}var w=function(e){var t=e.posts.filter((function(e){return!y(e.title).map(_.lowerCase).includes("hidden")})).sort((function(e){return y(e.title).map(_.lowerCase).includes("pin")?-1:0}));return r.a.createElement(A.a,null,r.a.createElement(P.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:1},t.map((function(e){var t=e._id,n=e.title;return r.a.createElement(P.a,{item:!0,xs:12,md:6},r.a.createElement(U,null,r.a.createElement(b.b,{key:t,to:"/post/".concat(t)},r.a.createElement(C.a,{square:!0},r.a.createElement(j.a,null,r.a.createElement(h.a,{component:"h5",variant:"body2"},function(e){var t=y(e),n=v(e);return r.a.createElement(h.a,{color:"textPrimary"},t.map(L)," ",r.a.createElement("br",null)," ",n)}(n)))))))}))))},U=i.a.div(g()),R=n(108),D=n.n(R),k=["Frontend Developer at Faire","University of Waterloo Alumnus","Big Fan of Algorithms, Data Structures"],F=Object(f.b)((function(e){return{posts:e.post.posts}}))((function(e){var t=e.posts;return r.a.createElement("div",null,r.a.createElement(h.a,{className:"mt-5",align:"center",variant:"h3",color:"textPrimary",component:"h1"},"JUDE GAO"),r.a.createElement("p",{className:"text-center"},r.a.createElement("code",null,r.a.createElement(D.a,{strings:k,typeSpeed:60,backSpeed:20,loop:!0}))),r.a.createElement(w,{posts:t}),r.a.createElement("p",{className:"text-center text-uppercase font-weight-bold text-secondary mt-5"},r.a.createElement(b.b,{to:"/maintain",className:"nav-link",href:"#"},r.a.createElement(h.a,{color:"textSecondary"},"Manage Contents"))))}));function I(){var e=Object(l.a)(["\n    text-align: center;\n"]);return I=function(){return e},e}function H(){var e=Object(l.a)(["\n    border: 1px red solid;\n    width: 100%;\n"]);return H=function(){return e},e}var M=i.a.div(H()),N=i.a.p(I()),J=function(e){var t=e.message;return r.a.createElement(M,null,r.a.createElement(N,null,t))},W=(n(128),n(109)),B=n.n(W),G=Object(f.b)((function(e,t){var n=t.match.params.postID;return{post:e.post.posts.find((function(e){return e._id===n}))}}))((function(e){var t=e.post;return Object(a.useEffect)((function(){window.MathJax.typeset()}),[t]),t?r.a.createElement("div",{className:"markdown-body mt-5"},r.a.createElement(B.a,{source:t.body})):r.a.createElement(J,{message:"Please check the URL, since the post is not found in the database."})})),q=n(67),z=n(10),K=n.n(z),Q=n(78),V=n(64),X=n(14),Y={FETCH_ALL_POSTS_START:"FETCH_ALL_POSTS_START",FETCH_ALL_POSTS_SUCCESS:"FETCH_ALL_POSTS_SUCCESS",FETCH_ALL_POSTS_FAILURE:"FETCH_ALL_POSTS_FAILURE",UPDATE_POST_START:"UPDATE_POST_START",UPDATE_POST_SUCCESS:"UPDATE_POST_SUCCESS",UPDATE_POST_FAILURE:"UPDATE_POST_FAILURE",CREATE_POST_START:"CREATE_POST_START",CREATE_POST_SUCCESS:"CREATE_POST_SUCCESS",CREATE_POST_FAILURE:"CREATE_POST_FAILURE",DELETE_POST_START:"DELETE_POST_START",DELETE_POST_SUCCESS:"DELETE_POST_SUCCESS",DELETE_POST_FAILURE:"DELETE_POST_FAILURE"},Z=function(e,t){return{type:Y.UPDATE_POST_SUCCESS,payload:{postID:e,post:t}}},$=n(110),ee=(n(209),n(267)),te=n(279),ne=n(277),ae=n(268),re=n(234);n(42),n(210),n(213);var ce=Object(f.b)((function(e,t){var n=t.match.params.id;return{post:e.post.posts.find((function(e){return e._id===n})),id:n}}),(function(e){return{updatePost:function(t,n){return e(function(e,t){return{type:Y.UPDATE_POST_START,payload:{postID:e,post:t}}}(t,n))},createPost:function(t,n){return e(function(e,t){return{type:Y.CREATE_POST_START,payload:{title:e,body:t}}}(t,n))},deletePost:function(t){return e(function(e){return{type:Y.DELETE_POST_START,payload:e}}(t))}}}))((function(e){var t=e.post,n=e.updatePost,c=e.createPost,o=e.deletePost,s=e.id,l=Object(a.useState)({title:"",body:""}),i=Object(q.a)(l,2),u=i[0],p=i[1];Object(a.useEffect)((function(){t&&p(t)}),[t]);var E=function(e){p(Object(X.a)(Object(X.a)({},u),{},{body:e}))},m=u.title,d=u.body,T=function(){var e=Object(Q.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s?n(s,u):c(m,d);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(A.a,{style:{display:"flex",marginTop:10,flexDirection:"column"}},r.a.createElement(ee.a,{fullWidth:!0,variant:"outlined",style:{display:"flex",flexDirection:"row"}},r.a.createElement(te.a,{htmlFor:"outlined-adornment-amount"},"Title"),r.a.createElement(ne.a,{id:"outlined-adornment-amount",value:m,onChange:function(e){var t=e.target,n=t.name,a=t.value;p(Object(X.a)(Object(X.a)({},u),{},Object(V.a)({},n,a)))},labelWidth:40,style:{flexGrow:1}}),r.a.createElement(ae.a,{variant:"contained"},r.a.createElement(re.a,{onClick:T},s?"Update":"Create"),s?r.a.createElement(re.a,{color:"primary",onClick:Object(Q.a)(K.a.mark((function e(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Do you want to delete this post-page?")&&o(s);case 1:case"end":return e.stop()}}),e)})))},"Delete"):null)),r.a.createElement(P.a,{item:!0},r.a.createElement($.Controlled,{value:d,options:{mode:"markdown",lineNumbers:!0,theme:"idea",extraKeys:{Enter:"newlineAndIndentContinueMarkdownList"},lineWrapping:!0},name:"body",onBeforeChange:function(e,t,n){E(n)},onChange:function(e,t,n){E(n)}})))})),oe=n(276),se=n(269),le=n(270),ie=n(271),ue=n(272),pe=function(e){var t=e.posts,n=e.open,a=e.close;return r.a.createElement(oe.a,{open:n,anchor:"left",onClick:a},r.a.createElement(A.a,{style:{padding:10}},r.a.createElement("div",{style:{display:"flex",flexFlow:"row-reverse"}},r.a.createElement(re.a,{size:"large",color:"primary"},"Close")),r.a.createElement(se.a,null,r.a.createElement(b.b,{to:"/"},r.a.createElement(le.a,{button:!0},r.a.createElement(ie.a,null,r.a.createElement(h.a,{color:"primary"},"Go to Home Page")))),r.a.createElement(b.b,{to:"/maintain/posts/create"},r.a.createElement(le.a,{button:!0},r.a.createElement(ie.a,null,r.a.createElement(h.a,{color:"primary"},"New Document")))),r.a.createElement(ue.a,null),t.map((function(e){var t=e._id,n=e.title;return r.a.createElement(b.b,{key:t,to:"/maintain/posts/edit/".concat(t)},r.a.createElement(le.a,{button:!0},r.a.createElement(ie.a,null,r.a.createElement(h.a,{color:"textSecondary"},v(n)))))})))))},Ee=n(273),me=n(274),de=n(275),Te=n(115),fe=n(278),Se=Object(T.d)(Object(f.b)((function(e){return{posts:e.post.posts}})),S.e)((function(e){var t=e.posts,n=Object(a.useState)(!1),c=Object(q.a)(n,2),o=c[0],s=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{color:"transparent",position:"static"},r.a.createElement(me.a,null,r.a.createElement(de.a,{onClick:function(){return s(!0)}},r.a.createElement(fe.a,null)),r.a.createElement(h.a,{variant:"h6",color:"inherit"},"Posts"))),r.a.createElement(pe,{posts:t,open:o,close:function(){return s(!1)}}),r.a.createElement("div",null,r.a.createElement(S.a,{path:"/maintain",exact:!0},r.a.createElement(A.a,{style:{marginTop:40}},r.a.createElement(Te.a,{style:{padding:40}},r.a.createElement(h.a,{align:"center",variant:"h4",color:"textPrimary",component:"h1",gutterBottom:!0},"Welcome to Jude's Content Manager"),r.a.createElement(h.a,{variant:"body1",color:"textSecondary"},"Click the top left icon to open up the menu, where you can"," ",r.a.createElement("strong",null,"create a post"),","," ",r.a.createElement("strong",null,"edit the existent posts"),", or even"," ",r.a.createElement("strong",null,"go back to the home page"),"!")))),r.a.createElement(S.a,{path:"/maintain/posts/create",component:ce}),r.a.createElement(S.a,{path:"/maintain/posts/edit/:id",component:ce})))})),be=Object(T.d)(Object(f.b)((function(e){return{isLoading:!e.post.errorMessage&&!1===e.post.synced,errorMessage:e.post.errorMessage}})),d)((function(e){var t=e.errorMessage;return t?r.a.createElement("div",null,r.a.createElement("h1",null,t),r.a.createElement("p",null,"App is not in a normal state. Please refresh."),r.a.createElement("p",null,"Jude Gao")):r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(S.a,{path:"/",exact:!0,component:F}),r.a.createElement(S.a,{path:"/post/:postID",component:G})),r.a.createElement(S.a,{path:"/maintain",component:Se}))})),Oe=(n(216),{posts:[],synced:!1,errorMessage:null}),_e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.FETCH_ALL_POSTS_SUCCESS:return Object(X.a)(Object(X.a)({},e),{},{posts:t.payload,synced:!0});case Y.UPDATE_POST_START:return Object(X.a)(Object(X.a)({},e),{},{synced:!1});case Y.UPDATE_POST_SUCCESS:return Object(X.a)(Object(X.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload.postID?t.payload.post:e})),synced:!0});case Y.CREATE_POST_START:return Object(X.a)(Object(X.a)({},e),{},{synced:!1});case Y.CREATE_POST_SUCCESS:return Object(X.a)(Object(X.a)({},e),{},{synced:!0,posts:[t.payload].concat(Object(O.a)(e.posts))});case Y.DELETE_POST_START:return Object(X.a)(Object(X.a)({},e),{},{synced:!1});case Y.DELETE_POST_SUCCESS:return Object(X.a)(Object(X.a)({},e),{},{synced:!0,posts:e.posts.filter((function(e){return e._id!==t.payload}))});case Y.FETCH_ALL_POSTS_FAILURE:case Y.UPDATE_POST_FAILURE:case Y.CREATE_POST_FAILURE:case Y.DELETE_POST_FAILURE:return Object(X.a)(Object(X.a)({},e),{},{errorMessage:t.payload});default:return e}},ve=Object(T.c)({post:_e}),ye=n(111),he=n(112),Ae=n(20),Pe=n(55),Ce=n.n(Pe),je=K.a.mark(Ie),ge=K.a.mark(He),xe=K.a.mark(Me),Le=K.a.mark(Ne),we=K.a.mark(Je),Ue=K.a.mark(We),Re=K.a.mark(Be),De=K.a.mark(Ge),ke="post",Fe=function(e){return"post/".concat(e)};function Ie(){var e,t;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Ce.a.get("".concat("","/").concat(ke));case 3:return e=n.sent,t=e.data,n.next=7,Object(Ae.b)((r=t.reverse(),{type:Y.FETCH_ALL_POSTS_SUCCESS,payload:r}));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(Ae.b)((a=n.t0.message,{type:Y.FETCH_ALL_POSTS_FAILURE,payload:a}));case 13:case"end":return n.stop()}var a,r}),je,null,[[0,9]])}function He(e){var t,n,a,r,c;return K.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.postID,a=t.post,o.prev=1,o.next=4,Ce.a.post("".concat("","/").concat(Fe(n)),a);case 4:return r=o.sent,c=r.data,o.next=8,Object(Ae.b)(Z(n,c));case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(Ae.b)((s=o.t0.message,{type:Y.UPDATE_POST_FAILURE,payload:s}));case 14:case"end":return o.stop()}var s}),ge,null,[[1,10]])}function Me(e){var t,n,a,r,c;return K.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload,n=t.title,a=t.body,o.prev=1,o.next=4,Ce.a.post("".concat("","/").concat(ke),{title:n,body:a});case 4:return r=o.sent,c=r.data,o.next=8,Object(Ae.b)({type:Y.CREATE_POST_SUCCESS,payload:c});case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(1),o.next=14,Object(Ae.b)((s=o.t0.message,{type:Y.CREATE_POST_FAILURE,payload:s}));case 14:case"end":return o.stop()}var s}),xe,null,[[1,10]])}function Ne(e){var t;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Ce.a.delete("".concat("","/").concat(Fe(t)));case 4:return n.next=6,Object(Ae.b)({type:Y.DELETE_POST_SUCCESS,payload:t});case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(1),n.next=12,Object(Ae.b)((a=n.t0.message,{type:Y.DELETE_POST_FAILURE,payload:a}));case 12:case"end":return n.stop()}var a}),Le,null,[[1,8]])}function Je(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.c)(Y.UPDATE_POST_START,He);case 2:case"end":return e.stop()}}),we)}function We(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.c)(Y.CREATE_POST_START,Me);case 2:case"end":return e.stop()}}),Ue)}function Be(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.c)(Y.DELETE_POST_START,Ne);case 2:case"end":return e.stop()}}),Re)}function Ge(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.a)([Ie(),Je(),We(),Be()]);case 2:case"end":return e.stop()}}),De)}var qe=K.a.mark(ze);function ze(){return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ae.a)([Ge()]);case 2:case"end":return e.stop()}}),qe)}var Ke=Object(he.a)(),Qe=Object(T.e)(ve,Object(T.a)(ye.logger,Ke));Ke.run(ze);var Ve=Qe;o.a.render(r.a.createElement(f.a,{store:Ve},r.a.createElement(b.a,null,r.a.createElement(be,null))),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.bcdc6f95.chunk.js.map